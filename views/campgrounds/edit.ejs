<% layout("./layout/boilerplate.ejs") %>

<div class=" row">
  <h1 class="text-center">Update <%= campground.title %> campground</h1>
  <div class=" col-md-6 offset-md-3 ">
        <form  action="/campgrounds/<%= campground.id %>?_method=PUT" method="post" enctype="multipart/form-data" >
          <div class="form-group mb-3">
          <label for="title">Title</label>
           <input type="title" class="form-control" name="campground[title]" id="title" placeholder="Enter title" value="<%= campground.title %>" required>
            <!--aria-describedby="emailHelp" to be put in input--> 
          <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
        </div>
        <div class="form-group mb-3">
          <label for="location">Location</label>
          <input type="text" class="form-control" name="campground[location]" id="location" placeholder="location" value="<%= campground.location %>"  required/>  
         </div>

        <!-- <div class="form-group mb-3">
          <label for="image">Image url</label>
          <input type="text" class="form-control" name="campground[image]" id="location" placeholder="Image url" value="<%= campground.image %>" required/>  
         </div> -->

         <div class="form-group mb-3">
            <label for="images" class="form-label">Add image(s)</label>
            <input type="file" class="form-control" name="images" id="imageS" placeholder="Image url"  multiple />
            <div class="Invalid-feedback">
              Choose valid images!
            </div>
          </div>

          <!-- <div class="mb-3">
            <label for="formFileMultiple" class="form-label">Multiple files input example</label>
            <input class="form-control" type="file" id="formFileMultiple" multiple>
          </div> -->


         <label for="price">Price</label>
        <div class="form-group input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">$</span>
          </div>
          <input type="number" class="form-control" name="campground[price]" id="price" placeholder="price " value="<%= campground.price %>"" required /> 
          <div class="input-group-append">
            <span class="input-group-text">.00</span>
          </div> 
         </div>

        <div class="form-group mb-3">
          <label for="description">Description</label>
          <!-- <input type="number" class="form-control" id="description" placeholder="camp description" value="<%= campground.description %>" />   -->
          <textarea class="form-control" name="campground[description]" id="description"  rows="5" required><%= campground.description %> </textarea>
         </div>
        
         <% campground.images.forEach((img, i) => {  %>
         <div class="mb-3 inline">
             <img src="<%= img.url%>" class="img-thumbnail"  style="width : 100" alt="">
             <div class="form-check form-check-inline">
               <input class="form-check-input" type="checkbox" id="image-<%= i%>" name="deleteImages[]" value="<%= img.filename %>">
             </div>
             <label class="form-check-label" for="image-<%= i%>">delete</label>
         </div>
         <% }) %>
        <button type="submit" class="btn btn-primary"> update</button>
      </form> 





      <a class="btn btn-primary" href="/campgrounds/<%= campground.id %>">Back</a>
      <a class="btn btn-primary" href="/campgrounds">All campgrounds</a>
    </div>
    </div>


     
   
    